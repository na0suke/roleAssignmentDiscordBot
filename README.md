# 🎮 LoL Role Bot

League of Legendsのロール決めを公平かつ楽しく行うDiscord Botです。

## 🌟 機能

### `/role` - 通常のロール決め
- 参加者が数字リアクションで参加
- 🎲 で抽選開始
- **結果は全員に見える形で表示**
- みんなでワイワイ楽しむのに最適

### `/secret_role` - 秘密のロール決め
- **VC参加者限定**の完全プライベートシステム
- 専用チャンネルを自動作成
- 数字選択で**即座にロール確定**
- 結果は専用チャンネル内でのみ表示
- 完了後30秒でチャンネル自動削除

## 🎯 使い方

### 基本的な流れ

**通常のロール決め:**
1. `/role` でゲーム開始
2. 参加者が 1️⃣〜5️⃣ でリアクション
3. 誰かが 🎲 をクリックして抽選開始
4. チャンネルに結果表示（全員が見える）

**秘密のロール決め:**
1. **ボイスチャンネルに参加**
2. `/secret_role` でゲーム開始
3. 専用チャンネルが自動作成される
4. 数字を選ぶと**即座にロール確定**
5. 30秒後にチャンネル自動削除

### 除外ロール指定
```
/role excluded_roles:top mid
/secret_role excluded_roles:jg adc
```

## ⚔️ ロール別メッセージ

各ロールには専用のメッセージとアドバイスが表示されます：

- **⚔️ トップ**: 「トップが育つともう手に負えない！」→「目が合ったら殺せ」
- **🌲 ジャングル**: 「チームの指揮官、マップ全体をコントロール...」→「ガンク！ガンク！」  
- **⚡ ミッド**: 「チームの中核！ゲームをキャリーするのが役目！」→「ゲームメイク、ゲームメイク」
- **🏹 ADC**: 「ダメージ出せないならチームは負けます！」→「ダメージ！ダメージ！」
- **🛡️ サポート**: 「味方を援護し、視界をコントロール...」→「怠けるな」

## 🔒 セキュリティ・プライバシー

### 通常版の特徴
- 結果は全員に見える
- 公平なランダム抽選
- 重複なし保証

### 秘密版の特徴
- **VC参加者のみアクセス可能**
- **管理者でもVC非参加なら見えない**
- 一時的チャンネルで完全プライベート
- 自動クリーンアップで証拠隠滅

## ⚡ その他の特徴

- **重複なし保証**: 同じロールが複数人に割り当てられることは絶対にない
- **即座決定**: 秘密版では数字選択で即座にロール確定
- **タイムアウト**: 5分間で自動終了
- **再実行可能**: 何度でもやり直し可能
- **除外ロール**: 特定のロールを除外して抽選可能

## 🛠️ セットアップ

### 必要なBot権限
- **Manage Channels** (一時チャンネル作成用)
- **Send Messages**
- **Embed Links**
- **Add Reactions**
- **Read Message History**
- **Use Slash Commands**

### デプロイ手順

1. **Discord Bot作成**
   - Discord Developer Portalでアプリケーション作成
   - Botトークンを取得
   - 必要な権限を設定してサーバーに招待

2. **Railway/Herokuデプロイ**
   - GitHubリポジトリにコードをアップロード
   - Railway/Herokuでプロジェクト作成
   - 環境変数 `DISCORD_TOKEN` を設定

3. **ファイル構成**
   ```
   ├── bot.py              # メインのBotコード
   ├── requirements.txt    # discord.py==2.3.2
   ├── Procfile           # worker: python bot.py
   └── .gitignore         # 環境変数ファイル除外
   ```

## 🎮 使用例

### 通常のゲーム前
```
プレイヤーA: "みんなでLoLやろう！"
プレイヤーB: "ロール決めして！"
プレイヤーA: /role
[みんなが数字リアクション]
プレイヤーC: 🎲 ← 抽選開始
Bot: "🎊 結果発表！@Aはトップ、@Bはサポート..."
全員: "よし、ゲーム開始！"
```

### 競技的なゲーム
```
1. 5人が同じVCに参加
2. リーダーが /secret_role を実行
3. 専用チャンネルが作成される
4. 各自が数字を選んで即座にロール確定
5. チャンネル内で結果確認
6. 30秒後にチャンネル削除
7. 相手チームにロールがバレずにゲーム開始
```

## 💰 動作環境

- **メモリ使用量**: ~50-100MB
- **CPU使用量**: 非常に軽量
- **対応プラン**: Railway Hobby Plan ($5/月) で十分

## 🔧 技術仕様

- **Python 3.8+**
- **discord.py 2.3.2**
- **非同期処理対応**
- **24時間稼働可能**

## 🚀 今後の拡張可能性

- ロール履歴保存機能
- 統計・分析機能
- カスタムロール設定
- チーム分け機能
- 他ゲーム対応

---

**Enjoy your LoL games! 🎉**

公平で楽しく、そして戦略的なロール決めを実現します！